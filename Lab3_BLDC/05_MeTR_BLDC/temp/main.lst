TMS320C6x COFF Assembler         Version 4.10     Wed May 08 17:21:52 2024
Copyright (c) 1996-2001 Texas Instruments Incorporated
temp\main.asm                                                        PAGE    1

       1                    ;******************************************************************************
       2                    ;* TMS320C6x ANSI C Codegen                                      Version 4.10 *
       3                    ;* Date/Time created: Wed May 08 17:21:51 2024                                *
       4                    ;******************************************************************************
       5                    
       6                    ;******************************************************************************
       7                    ;* GLOBAL FILE PARAMETERS                                                     *
       8                    ;*                                                                            *
       9                    ;*   Architecture      : TMS320C670x                                          *
      10                    ;*   Optimization      : Disabled                                             *
      11                    ;*   Optimizing for    : Compile time, Ease of Development                    *
      12                    ;*                       Based on options: no -o, no -ms                      *
      13                    ;*   Endian            : Little                                               *
      14                    ;*   Interrupt Thrshld : Disabled                                             *
      15                    ;*   Memory Model      : Large                                                *
      16                    ;*   Calls to RTS      : Far                                                  *
      17                    ;*   Pipelining        : Disabled                                             *
      18                    ;*   Memory Aliases    : Presume are aliases (pessimistic)                    *
      19                    ;*   Debug Info        : No Debug Info                                        *
      20                    ;*                                                                            *
      21                    ;******************************************************************************
      22                    
      23                            .asg    A15, FP
      24                            .asg    B14, DP
      25                            .asg    B15, SP
      26                            .global $bss
      27                    
      28                            .global _PWMD
      29 00000000           _PWMD:  .usect  .far,4,4
      30                            .global _PWMH
      31 00000004           _PWMH:  .usect  .far,4,4
      32                            .global _PWML
      33 00000008           _PWML:  .usect  .far,4,4
      34                    
      35 00000000                   .sect   ".cinit"
      36                            .align  8
      37 00000000 00000004          .field          4,32
      38 00000004 0000000C-         .field          _hallCount+0,32
      39 00000008 FFFFFFFF          .field          -1,32                   ; _hallCount @ 0
      40 00000000                   .sect   ".text"
      41                            .global _hallCount
      42 0000000c           _hallCount:     .usect  .far,4,4
      43                    
      44 0000000c                   .sect   ".cinit"
      45                            .align  8
      46 00000010 00000004          .field          4,32
      47 00000014 00000010-         .field          _prevHall+0,32
      48 00000018 00000000          .field          0,32                    ; _prevHall @ 0
      49 00000000                   .sect   ".text"
      50                            .global _prevHall
      51 00000010           _prevHall:      .usect  .far,4,4
      52                            .global _currHall
      53 00000014           _currHall:      .usect  .far,4,4
      54                            .global _currAngle
      55 00000018           _currAngle:     .usect  .far,4,4
TMS320C6x COFF Assembler         Version 4.10     Wed May 08 17:21:52 2024
Copyright (c) 1996-2001 Texas Instruments Incorporated
temp\main.asm                                                        PAGE    2

      56                            .global _refAngle
      57 0000001c           _refAngle:      .usect  .far,4,4
      58                    ;       acp6x -q -D_FAR_RTS=1 --large_model=3 --version=6701 -m --i_output_file C:\Users\hge42\AppData
      59 00000000                   .sect   ".text"
      60                            .global _InitEXINTF
      61                    
      62                    ;******************************************************************************
      63                    ;* FUNCTION NAME: _InitEXINTF                                                 *
      64                    ;*                                                                            *
      65                    ;*   Regs Modified     : A0,A3,A4,B4,B5,B6                                    *
      66                    ;*   Regs Used         : A0,A3,A4,B3,B4,B5,B6                                 *
      67                    ;*   Local Frame Size  : 0 Args + 0 Auto + 0 Save = 0 byte                    *
      68                    ;******************************************************************************
      69 00000000           _InitEXINTF:
      70                    ;** --------------------------------------------------------------------------*
      71 00000000 000008C0             ZERO    .D1     A0                ; |18| 
      72 00000004 0000C068             MVKH    .S1     0x1800000,A0      ; |18| 
      73 00000008 02000264             LDW     .D1T1   *A0,A4            ; |18| 
      74 0000000c 0280042A             MVKL    .S2     0x1800008,B5      ; |21| 
      75 00000010 030290AA             MVKL    .S2     0x21520521,B6     ; |33| 
      76 00000014 000C0362             B       .S2     B3                ; |43| 
      77                    
      78 00000018 0200082B             MVKL    .S2     0x1800010,B4      ; |33| 
      79 0000001c 018190A8  ||         MVKL    .S1     0xd00321,A3       ; |21| 
      80                    
      81 00000020 021065C9             CLR     .S1     A4,3,5,A4         ; |18| 
      82 00000024 0280C06A  ||         MVKH    .S2     0x1800008,B5      ; |21| 
      83                    
      84 00000028 02000275             STW     .D1T1   A4,*A0            ; |18| 
      85 0000002c 0310A96B  ||         MVKH    .S2     0x21520521,B6     ; |33| 
      86 00000030 01806868  ||         MVKH    .S1     0xd00321,A3       ; |21| 
      87                    
      88 00000034 019402F5             STW     .D2T1   A3,*B5            ; |21| 
      89 00000038 0200C06A  ||         MVKH    .S2     0x1800010,B4      ; |33| 
      90                    
      91 0000003c 031002F6             STW     .D2T2   B6,*B4            ; |33| 
      92                               ; BRANCH OCCURS                   ; |43| 
      93                    
      94                    
      95 00000040                   .sect   ".text"
      96                            .global _InitTimer
      97                    
      98                    ;******************************************************************************
      99                    ;* FUNCTION NAME: _InitTimer                                                  *
     100                    ;*                                                                            *
     101                    ;*   Regs Modified     : A0,A3,B4,B5                                          *
     102                    ;*   Regs Used         : A0,A3,B3,B4,B5                                       *
     103                    ;*   Local Frame Size  : 0 Args + 0 Auto + 0 Save = 0 byte                    *
     104                    ;******************************************************************************
     105 00000040           _InitTimer:
     106                    ;** --------------------------------------------------------------------------*
     107 00000040 020008C2             ZERO    .D2     B4                ; |48| 
     108 00000044 0200CA6A             MVKH    .S2     0x1940000,B4      ; |48| 
     109 00000048 029002E6             LDW     .D2T2   *B4,B5            ; |48| 
     110 0000004c 00000228             MVKL    .S1     0x1940004,A0      ; |51| 
TMS320C6x COFF Assembler         Version 4.10     Wed May 08 17:21:52 2024
Copyright (c) 1996-2001 Texas Instruments Incorporated
temp\main.asm                                                        PAGE    3

     111 00000050 0000CA68             MVKH    .S1     0x1940004,A0      ; |51| 
     112 00000054 018008C0             ZERO    .D1     A3                ; |54| 
     113 00000058 0180CA68             MVKH    .S1     0x1940000,A3      ; |54| 
     114 0000005c 0295098A             SET     .S2     B5,8,9,B5         ; |48| 
     115                    
     116 00000060 0227102B             MVK     .S2     20000,B4          ; |51| 
     117 00000064 029002F6  ||         STW     .D2T2   B5,*B4            ; |48| 
     118                    
     119 00000068 02000276             STW     .D1T2   B4,*A0            ; |51| 
     120 0000006c 000C0264             LDW     .D1T1   *A3,A0            ; |54| 
     121 00000070 000C0362             B       .S2     B3                ; |55| 
     122 00000074 00004000             NOP             3
     123 00000078 0000C788             SET     .S1     A0,6,7,A0         ; |54| 
     124 0000007c 000C0274             STW     .D1T1   A0,*A3            ; |54| 
     125                               ; BRANCH OCCURS                   ; |55| 
     126                    
     127                    
     128 00000080                   .sect   ".text"
     129                            .global _InitINT
     130                    
     131                    ;******************************************************************************
     132                    ;* FUNCTION NAME: _InitINT                                                    *
     133                    ;*                                                                            *
     134                    ;*   Regs Modified     : A0,B4                                                *
     135                    ;*   Regs Used         : A0,B3,B4                                             *
     136                    ;*   Local Frame Size  : 0 Args + 0 Auto + 0 Save = 0 byte                    *
     137                    ;******************************************************************************
     138 00000080           _InitINT:
     139                    ;** --------------------------------------------------------------------------*
     140 00000080 021003E2             MVC     .S2     IER,B4            ; |60| 
     141 00000084 00202128             MVK     .S1     16450,A0          ; |60| 
     142 00000088 020096E2             OR      .S2X    A0,B4,B4          ; |60| 
     143 0000008c 021003A2             MVC     .S2     B4,IER            ; |60| 
     144 00000090 000C0362             B       .S2     B3                ; |61| 
     145 00000094 00008000             NOP             5
     146                               ; BRANCH OCCURS                   ; |61| 
     147                    
     148                    
     149 00000098                   .sect   ".text"
     150                            .global _GIE
     151                    
     152                    ;******************************************************************************
     153                    ;* FUNCTION NAME: _GIE                                                        *
     154                    ;*                                                                            *
     155                    ;*   Regs Modified     : B4                                                   *
     156                    ;*   Regs Used         : B3,B4                                                *
     157                    ;*   Local Frame Size  : 0 Args + 0 Auto + 0 Save = 0 byte                    *
     158                    ;******************************************************************************
     159 00000098           _GIE:
     160                    ;** --------------------------------------------------------------------------*
     161 00000098 020403E2             MVC     .S2     CSR,B4            ; |66| 
     162 0000009c 021026A2             OR      .S2     1,B4,B4           ; |66| 
     163 000000a0 009003A2             MVC     .S2     B4,CSR            ; |66| 
     164 000000a4 000C0362             B       .S2     B3                ; |67| 
     165 000000a8 00008000             NOP             5
TMS320C6x COFF Assembler         Version 4.10     Wed May 08 17:21:52 2024
Copyright (c) 1996-2001 Texas Instruments Incorporated
temp\main.asm                                                        PAGE    4

     166                               ; BRANCH OCCURS                   ; |67| 
     167                    
     168                    
     169 000000ac                   .sect   ".text"
     170                            .global _delay_us
     171                    
     172                    ;******************************************************************************
     173                    ;* FUNCTION NAME: _delay_us                                                   *
     174                    ;*                                                                            *
     175                    ;*   Regs Modified     : B0,B4,B5,B6,SP                                       *
     176                    ;*   Regs Used         : A4,B0,B3,B4,B5,B6,SP                                 *
     177                    ;*   Local Frame Size  : 0 Args + 4 Auto + 0 Save = 4 byte                    *
     178                    ;******************************************************************************
     179 000000ac           _delay_us:
     180                    ;** --------------------------------------------------------------------------*
     181 000000ac 021011A2             MV      .S2X    A4,B4             ; |71| 
     182 000000b0 02908CA2             SHL     .S2     B4,4,B5           ; |74| 
     183                    
     184 000000b4 020425E3             ZERO    .S2     B4                ; |74| 
     185 000000b8 02949AC2  ||         SUBAH   .D2     B5,B4,B5          ; |74| 
     186                    
     187 000000bc 00148BFA             CMPLTU  .L2     B4,B5,B0          ; |74| 
     188 000000c0 30000710     [!B0]   B       .S1     L2                ; |74| 
     189 000000c4 07BD09C2             SUB     .D2     SP,8,SP           ; |71| 
     190 000000c8 023C22F4             STW     .D2T1   A4,*+SP(4)        ; |71| 
     191 000000cc 22BC22E6     [ B0]   LDW     .D2T2   *+SP(4),B5        ; |74| 
     192 000000d0 00002000             NOP             2
     193                               ; BRANCH OCCURS                   ; |74| 
     194                    ;** --------------------------------------------------------------------------*
     195 000000d4 00002000             NOP             2
     196                    ;*----------------------------------------------------------------------------*
     197                    ;*   SOFTWARE PIPELINE INFORMATION
     198                    ;*      Disqualified loop: software pipelining disabled
     199                    ;*----------------------------------------------------------------------------*
     200 000000d8           L1:    
     201 000000d8 03148CA2             SHL     .S2     B5,4,B6           ; |74| 
     202                    
     203 000000e0 0298BAC3             SUBAH   .D2     B6,B5,B5          ; |74| 
     204 000000e4 021021A2  ||         ADD     .S2     1,B4,B4           ; |74| 
     205                    
     206 000000e8 00148BFA             CMPLTU  .L2     B4,B5,B0          ; |74| 
     207 000000ec 2FFFFF10     [ B0]   B       .S1     L1                ; |74| 
     208 000000f0 22BC22E6     [ B0]   LDW     .D2T2   *+SP(4),B5        ; |74| 
     209 000000f4 00006000             NOP             4
     210                               ; BRANCH OCCURS                   ; |74| 
     211                    ;** --------------------------------------------------------------------------*
     212 000000f8           L2:    
     213 000000f8 000C0362             B       .S2     B3                ; |75| 
     214 000000fc 07BD0942             ADD     .D2     8,SP,SP           ; |75| 
     215 00000100 00006000             NOP             4
     216                               ; BRANCH OCCURS                   ; |75| 
     217                    
     218                    
     219 00000104                   .sect   ".text"
     220                            .global _delay_ms
TMS320C6x COFF Assembler         Version 4.10     Wed May 08 17:21:52 2024
Copyright (c) 1996-2001 Texas Instruments Incorporated
temp\main.asm                                                        PAGE    5

     221                    
     222                    ;******************************************************************************
     223                    ;* FUNCTION NAME: _delay_ms                                                   *
     224                    ;*                                                                            *
     225                    ;*   Regs Modified     : A4,B0,B3,B4,B5,B6,B7,B9,SP                           *
     226                    ;*   Regs Used         : A4,B0,B3,B4,B5,B6,B7,B9,SP                           *
     227                    ;*   Local Frame Size  : 0 Args + 4 Auto + 0 Save = 4 byte                    *
     228                    ;******************************************************************************
     229 00000104           _delay_ms:
     230                    ;** --------------------------------------------------------------------------*
     231 00000104 038008C2             ZERO    .D2     B7                ; |82| 
     232 00000108 0010FBFA             CMPLTU  .L2X    B7,A4,B0
     233 0000010c 30000B10     [!B0]   B       .S1     L4                ; |82| 
     234 00000110 07BD09C2             SUB     .D2     SP,8,SP           ; |79| 
     235 00000114 023C22F4             STW     .D2T1   A4,*+SP(4)        ; |79| 
     236 00000118 048C005A             MV      .L2     B3,B9             ; |79| 
     237 0000011c 2200562A'    [ B0]   MVKL    .S2     _delay_us,B4      ; |83| 
     238 00000120 2200006A'    [ B0]   MVKH    .S2     _delay_us,B4      ; |83| 
     239                               ; BRANCH OCCURS                   ; |82| 
     240                    ;*----------------------------------------------------------------------------*
     241                    ;*   SOFTWARE PIPELINE INFORMATION
     242                    ;*      Disqualified loop: software pipelining disabled
     243                    ;*----------------------------------------------------------------------------*
     244 00000124           L3:    
     245 00000124 00100362             B       .S2     B4                ; |83| 
     246 00000128 01809C2A'            MVKL    .S2     RL0,B3            ; |83| 
     247 0000012c 0180006A'            MVKH    .S2     RL0,B3            ; |83| 
     248 00000130 0201F428             MVK     .S1     0x3e8,A4          ; |83| 
     249 00000134 00002000             NOP             2
     250 00000138           RL0:       ; CALL OCCURS                     ; |83| 
     251 00000138 023C22E6             LDW     .D2T2   *+SP(4),B4        ; |84| 
     252 0000013c 039C2942             ADD     .D2     1,B7,B7           ; |84| 
     253 00000140 00004000             NOP             3
     254 00000144 0010EBFA             CMPLTU  .L2     B7,B4,B0          ; |84| 
     255 00000148 2FFFFC90     [ B0]   B       .S1     L3                ; |84| 
     256 0000014c 2200562A'    [ B0]   MVKL    .S2     _delay_us,B4      ; |83| 
     257 00000150 2200006A'    [ B0]   MVKH    .S2     _delay_us,B4      ; |83| 
     258 00000154 00004000             NOP             3
     259                               ; BRANCH OCCURS                   ; |84| 
     260                    ;** --------------------------------------------------------------------------*
     261 00000158           L4:    
     262 00000158 00240362             B       .S2     B9                ; |85| 
     263 0000015c 07BD0942             ADD     .D2     8,SP,SP           ; |85| 
     264 00000160 00006000             NOP             4
     265                               ; BRANCH OCCURS                   ; |85| 
     266                    
     267                    
     268 00000164                   .sect   ".text"
     269                            .global _WaitTFlag
     270                    
     271                    ;******************************************************************************
     272                    ;* FUNCTION NAME: _WaitTFlag                                                  *
     273                    ;*                                                                            *
     274                    ;*   Regs Modified     : A0,A1,A3                                             *
     275                    ;*   Regs Used         : A0,A1,A3,B3                                          *
TMS320C6x COFF Assembler         Version 4.10     Wed May 08 17:21:52 2024
Copyright (c) 1996-2001 Texas Instruments Incorporated
temp\main.asm                                                        PAGE    6

     276                    ;*   Local Frame Size  : 0 Args + 0 Auto + 0 Save = 0 byte                    *
     277                    ;******************************************************************************
     278 00000164           _WaitTFlag:
     279                    ;** --------------------------------------------------------------------------*
     280 00000164 00000028!            MVKL    .S1     _TFlag,A0         ; |90| 
     281 00000168 00000068!            MVKH    .S1     _TFlag,A0         ; |90| 
     282 0000016c 00800264             LDW     .D1T1   *A0,A1            ; |90| 
     283 00000170 00006000             NOP             4
     284 00000174 80000810     [ A1]   B       .S1     L6                ; |90| 
     285 00000178 90000028!    [!A1]   MVKL    .S1     _TFlag,A0         ; |90| 
     286 0000017c 90000068!    [!A1]   MVKH    .S1     _TFlag,A0         ; |90| 
     287 00000180 90800264     [!A1]   LDW     .D1T1   *A0,A1            ; |90| 
     288 00000184 00002000             NOP             2
     289                               ; BRANCH OCCURS                   ; |90| 
     290                    ;*----------------------------------------------------------------------------*
     291                    ;*   SOFTWARE PIPELINE INFORMATION
     292                    ;*      Disqualified loop: software pipelining disabled
     293                    ;*----------------------------------------------------------------------------*
     294 00000188           L5:    
     295 00000188 00002000             NOP             2
     296 0000018c 90000110     [!A1]   B       .S1     L5                ; |90| 
     297 00000190 90000028!    [!A1]   MVKL    .S1     _TFlag,A0         ; |90| 
     298 00000194 90000068!    [!A1]   MVKH    .S1     _TFlag,A0         ; |90| 
     299 00000198 90800264     [!A1]   LDW     .D1T1   *A0,A1            ; |90| 
     300 0000019c 00002000             NOP             2
     301                               ; BRANCH OCCURS                   ; |90| 
     302                    ;** --------------------------------------------------------------------------*
     303 000001a0           L6:    
     304 000001a0 000C0362             B       .S2     B3                ; |92| 
     305 000001a4 00000028!            MVKL    .S1     _TFlag,A0         ; |91| 
     306 000001a8 00000068!            MVKH    .S1     _TFlag,A0         ; |91| 
     307 000001ac 018008C0             ZERO    .D1     A3                ; |91| 
     308 000001b0 01800274             STW     .D1T1   A3,*A0            ; |91| 
     309 000001b4 00000000             NOP             1
     310                               ; BRANCH OCCURS                   ; |92| 
     311                    
     312                    
     313 000001b8                   .sect   ".text"
     314                            .global _WaitTFlagCnt
     315                    
     316                    ;******************************************************************************
     317                    ;* FUNCTION NAME: _WaitTFlagCnt                                               *
     318                    ;*                                                                            *
     319                    ;*   Regs Modified     : A0,A1,A3,B0,B3,B4,B5,B9,SP                           *
     320                    ;*   Regs Used         : A0,A1,A3,A4,B0,B3,B4,B5,B9,SP                        *
     321                    ;*   Local Frame Size  : 0 Args + 8 Auto + 0 Save = 8 byte                    *
     322                    ;******************************************************************************
     323 000001b8           _WaitTFlagCnt:
     324                    ;** --------------------------------------------------------------------------*
     325                    
     326 000001b8 07BD09C3             SUB     .D2     SP,8,SP           ; |96| 
     327 000001bc 00000028! ||         MVKL    .S1     _TFlag,A0         ; |99| 
     328                    
     329 000001c0 023C22F5             STW     .D2T1   A4,*+SP(4)        ; |96| 
     330 000001c4 00000069! ||         MVKH    .S1     _TFlag,A0         ; |99| 
TMS320C6x COFF Assembler         Version 4.10     Wed May 08 17:21:52 2024
Copyright (c) 1996-2001 Texas Instruments Incorporated
temp\main.asm                                                        PAGE    7

     331 000001c8 018428C0  ||         ZERO    .D1     A3                ; |99| 
     332                    
     333 000001cc 01800274             STW     .D1T1   A3,*A0            ; |99| 
     334 000001d0 02BC22E6             LDW     .D2T2   *+SP(4),B5        ; |101| 
     335 000001d4 020008C2             ZERO    .D2     B4                ; |101| 
     336 000001d8 023C42F6             STW     .D2T2   B4,*+SP(8)        ; |101| 
     337 000001dc 048C01A2             MV      .S2     B3,B9             ; |96| 
     338 000001e0 00000000             NOP             1
     339 000001e4 00148BFA             CMPLTU  .L2     B4,B5,B0          ; |101| 
     340 000001e8 30000A10     [!B0]   B       .S1     L8                ; |101| 
     341 000001ec 2000B228'    [ B0]   MVKL    .S1     _WaitTFlag,A0     ; |102| 
     342 000001f0 20000068'    [ B0]   MVKH    .S1     _WaitTFlag,A0     ; |102| 
     343 000001f4 00004000             NOP             3
     344                               ; BRANCH OCCURS                   ; |101| 
     345                    ;*----------------------------------------------------------------------------*
     346                    ;*   SOFTWARE PIPELINE INFORMATION
     347                    ;*      Disqualified loop: software pipelining disabled
     348                    ;*----------------------------------------------------------------------------*
     349 000001f8           L7:    
     350 000001f8 00001362             B       .S2X    A0                ; |102| 
     351 000001fc 0181042A'            MVKL    .S2     RL2,B3            ; |102| 
     352 00000200 0180006A'            MVKH    .S2     RL2,B3            ; |102| 
     353 00000204 00004000             NOP             3
     354 00000208           RL2:       ; CALL OCCURS                     ; |102| 
     355 00000208 023C42E6             LDW     .D2T2   *+SP(8),B4        ; |103| 
     356 0000020c 02BC22E6             LDW     .D2T2   *+SP(4),B5        ; |103| 
     357 00000210 00004000             NOP             3
     358 00000214 02102942             ADD     .D2     1,B4,B4           ; |103| 
     359 00000218 00148BFA             CMPLTU  .L2     B4,B5,B0          ; |103| 
     360 0000021c 2FFFFF10     [ B0]   B       .S1     L7                ; |103| 
     361 00000220 023C42F6             STW     .D2T2   B4,*+SP(8)        ; |103| 
     362 00000224 2000B228'    [ B0]   MVKL    .S1     _WaitTFlag,A0     ; |102| 
     363 00000228 20000068'    [ B0]   MVKH    .S1     _WaitTFlag,A0     ; |102| 
     364 0000022c 00002000             NOP             2
     365                               ; BRANCH OCCURS                   ; |103| 
     366                    ;** --------------------------------------------------------------------------*
     367 00000230           L8:    
     368 00000230 00240362             B       .S2     B9                ; |104| 
     369 00000234 07BD0942             ADD     .D2     8,SP,SP           ; |104| 
     370 00000238 00006000             NOP             4
     371                               ; BRANCH OCCURS                   ; |104| 
     372                    
     373                    
     374 0000023c                   .sect   ".text"
     375                            .global _PWMOut
     376                    
     377                    ;******************************************************************************
     378                    ;* FUNCTION NAME: _PWMOut                                                     *
     379                    ;*                                                                            *
     380                    ;*   Regs Modified     : A0,A1,A2,A3,A4,A5,A6,A7,A8,A9,B0,B1,B2,B3,B4,B5,B6,  *
     381                    ;*                           B7,B8,B9,SP                                      *
     382                    ;*   Regs Used         : A0,A1,A2,A3,A4,A5,A6,A7,A8,A9,B0,B1,B2,B3,B4,B5,B6,  *
     383                    ;*                           B7,B8,B9,SP                                      *
     384                    ;*   Local Frame Size  : 0 Args + 8 Auto + 4 Save = 12 byte                   *
     385                    ;******************************************************************************
TMS320C6x COFF Assembler         Version 4.10     Wed May 08 17:21:52 2024
Copyright (c) 1996-2001 Texas Instruments Incorporated
temp\main.asm                                                        PAGE    8

     386 0000023c           _PWMOut:
     387                    ;** --------------------------------------------------------------------------*
     388 0000023c 018008C0             ZERO    .D1     A3                ; |115| 
     389                    
     390 00000240 01A16469             MVKH    .S1     0x42c80000,A3     ; |115| 
     391 00000244 000428C0  ||         ZERO    .D1     A0                ; |115| 
     392                    
     393 00000248 00216469             MVKH    .S1     0x42c80000,A0     ; |115| 
     394 0000024c 01BC94F7  ||         STW     .D2T2   B3,*SP--(16)      ; |111| 
     395 00000250 021011A2  ||         MV      .S2X    A4,B4             ; |111| 
     396                    
     397 00000254 00907EA1             CMPGTSP .S1X    B4,A3,A1          ; |115| 
     398 00000258 023C22F4  ||         STW     .D2T1   A4,*+SP(4)        ; |111| 
     399                    
     400 0000025c 803C22F4     [ A1]   STW     .D2T1   A0,*+SP(4)        ; |115| 
     401 00000260 023C22E6             LDW     .D2T2   *+SP(4),B4        ; |116| 
     402 00000264 000008C0             ZERO    .D1     A0                ; |116| 
     403 00000268 01815C2A'            MVKL    .S2     RL4,B3            ; |119| 
     404 0000026c 028008C2             ZERO    .D2     B5                ; |119| 
     405 00000270 02A02CEA             MVKH    .S2     0x40590000,B5     ; |119| 
     406                    
     407 00000274 020428C3             ZERO    .D2     B4                ; |116| 
     408 00000278 00009EA2  ||         CMPLTSP .S2X    B4,A0,B0          ; |116| 
     409                    
     410 0000027c 223C22F6     [ B0]   STW     .D2T2   B4,*+SP(4)        ; |116| 
     411 00000280 023C22E6             LDW     .D2T2   *+SP(4),B4        ; |119| 
     412 00000284 00700028             MVKL    .S1     0x44ffe000,A0     ; |119| 
     413 00000288 00227FE8             MVKH    .S1     0x44ffe000,A0     ; |119| 
     414 0000028c 0180006A'            MVKH    .S2     RL4,B3            ; |119| 
     415 00000290 00000000             NOP             1
     416 00000294 02009E02             MPYSP   .M2X    A0,B4,B4          ; |119| 
     417 00000298 0300002A!            MVKL    .S2     __divd,B6         ; |119| 
     418 0000029c 0300006A!            MVKH    .S2     __divd,B6         ; |119| 
     419 000002a0 00180362             B       .S2     B6                ; |119| 
     420 000002a4 041000A2             SPDP    .S2     B4,B9:B8          ; |119| 
     421 000002a8 020008C2             ZERO    .D2     B4                ; |119| 
     422 000002ac 00000000             NOP             1
     423 000002b0 02A411A0             MV      .S1X    B9,A5             ; |119| 
     424 000002b4 022011A0             MV      .S1X    B8,A4             ; |119| 
     425 000002b8           RL4:       ; CALL OCCURS                     ; |119| 
     426 000002b8 00148138             DPSP    .L1     A5:A4,A0          ; |119| 
     427 000002bc 00004000             NOP             3
     428 000002c0 020011A2             MV      .S2X    A0,B4             ; |119| 
     429 000002c4 0290017A             SPTRUNC .L2     B4,B5             ; |122| 
     430 000002c8 003C42F4             STW     .D2T1   A0,*+SP(8)        ; |119| 
     431 000002cc 00000028-            MVKL    .S1     _PWMD,A0          ; |122| 
     432                    
     433 000002d0 00000069-            MVKH    .S1     _PWMD,A0          ; |122| 
     434 000002d4 0200002A- ||         MVKL    .S2     _PWMD,B4          ; |123| 
     435                    
     436 000002d8 02800277             STW     .D1T2   B5,*A0            ; |122| 
     437 000002dc 0200006A- ||         MVKH    .S2     _PWMD,B4          ; |123| 
     438                    
     439 000002e0 021002E6             LDW     .D2T2   *B4,B4            ; |123| 
     440 000002e4 00000228-            MVKL    .S1     _PWMH,A0          ; |123| 
TMS320C6x COFF Assembler         Version 4.10     Wed May 08 17:21:52 2024
Copyright (c) 1996-2001 Texas Instruments Incorporated
temp\main.asm                                                        PAGE    9

     441 000002e8 00000068-            MVKH    .S1     _PWMH,A0          ; |123| 
     442 000002ec 0280002A-            MVKL    .S2     _PWMD,B5          ; |124| 
     443 000002f0 0280006A-            MVKH    .S2     _PWMD,B5          ; |124| 
     444 000002f4 02040052             ADDK    .S2     2048,B4           ; |123| 
     445 000002f8 02000276             STW     .D1T2   B4,*A0            ; |123| 
     446 000002fc 021402E6             LDW     .D2T2   *B5,B4            ; |124| 
     447 00000300 00000428-            MVKL    .S1     _PWML,A0          ; |124| 
     448 00000304 0284002A             MVK     .S2     2048,B5           ; |124| 
     449 00000308 00000068-            MVKH    .S1     _PWML,A0          ; |124| 
     450 0000030c 00000000             NOP             1
     451 00000310 021488C2             SUB     .D2     B5,B4,B4          ; |124| 
     452 00000314 02000276             STW     .D1T2   B4,*A0            ; |124| 
     453 00000318 01BC92E6             LDW     .D2T2   *++SP(16),B3      ; |125| 
     454 0000031c 00006000             NOP             4
     455 00000320 000C0362             B       .S2     B3                ; |125| 
     456 00000324 00008000             NOP             5
     457                               ; BRANCH OCCURS                   ; |125| 
     458                    
     459                    
     460 00000328                   .sect   ".text"
     461                            .global _angleFromHallCount
     462                    
     463                    ;******************************************************************************
     464                    ;* FUNCTION NAME: _angleFromHallCount                                         *
     465                    ;*                                                                            *
     466                    ;*   Regs Modified     : A0,A1,A2,A3,A4,A5,A6,A7,A8,A9,B0,B1,B2,B3,B4,B5,B6,  *
     467                    ;*                           B7,B8,B9,SP                                      *
     468                    ;*   Regs Used         : A0,A1,A2,A3,A4,A5,A6,A7,A8,A9,B0,B1,B2,B3,B4,B5,B6,  *
     469                    ;*                           B7,B8,B9,SP                                      *
     470                    ;*   Local Frame Size  : 0 Args + 4 Auto + 4 Save = 8 byte                    *
     471                    ;******************************************************************************
     472 00000328           _angleFromHallCount:
     473                    ;** --------------------------------------------------------------------------*
     474 00000328 021011A2             MV      .S2X    A4,B4             ; |128| 
     475 0000032c 0210073A             INTDP   .L2     B4,B5:B4          ; |129| 
     476 00000330 00002000             NOP             2
     477 00000334 00C00028             MVKL    .S1     0x40768000,A1     ; |129| 
     478                    
     479 00000340 00A03B69             MVKH    .S1     0x40768000,A1     ; |129| 
     480 00000344 01BC54F7  ||         STW     .D2T2   B3,*SP--(8)       ; |128| 
     481 00000348 000848C0  ||         ZERO    .D1     A0                ; |129| 
     482                    
     483 0000034c 02101701             MPYDP   .M1X    A1:A0,B5:B4,A5:A4 ; |129| 
     484 00000350 023C22F4  ||         STW     .D2T1   A4,*+SP(4)        ; |128| 
     485                    
     486 00000354 00000000             NOP             1
     487 00000358 0300002A!            MVKL    .S2     __divd,B6         ; |129| 
     488 0000035c 0300006A!            MVKH    .S2     __divd,B6         ; |129| 
     489 00000360 00180362             B       .S2     B6                ; |129| 
     490 00000364 00000000             NOP             1
     491 00000368 0181BE2A'            MVKL    .S2     RL6,B3            ; |129| 
     492 0000036c 0180006A'            MVKH    .S2     RL6,B3            ; |129| 
     493 00000370 02A0002A             MVKL    .S2     0x40744000,B5     ; |129| 
     494                    
     495 00000374 02A03A6B             MVKH    .S2     0x40744000,B5     ; |129| 
TMS320C6x COFF Assembler         Version 4.10     Wed May 08 17:21:52 2024
Copyright (c) 1996-2001 Texas Instruments Incorporated
temp\main.asm                                                        PAGE   10

     496 00000378 020428C2  ||         ZERO    .D2     B4                ; |129| 
     497                    
     498 0000037c           RL6:       ; CALL OCCURS                     ; |129| 
     499 0000037c 01BC52E6             LDW     .D2T2   *++SP(8),B3       ; |130| 
     500 00000380 00006000             NOP             4
     501 00000384 000C0362             B       .S2     B3                ; |130| 
     502 00000388 00000000             NOP             1
     503 0000038c 02148138             DPSP    .L1     A5:A4,A4          ; |129| 
     504 00000390 00004000             NOP             3
     505                               ; BRANCH OCCURS                   ; |130| 
     506                    
     507                    
     508 00000394                   .sect   ".text"
     509                            .global _BLDCDrive
     510                    
     511                    ;******************************************************************************
     512                    ;* FUNCTION NAME: _BLDCDrive                                                  *
     513                    ;*                                                                            *
     514                    ;*   Regs Modified     : A0,A1,A2,A3,A4,A5,A6,A7,A8,A9,B0,B1,B2,B3,B4,B5,B6,  *
     515                    ;*                           B7,B8,B9,SP                                      *
     516                    ;*   Regs Used         : A0,A1,A2,A3,A4,A5,A6,A7,A8,A9,B0,B1,B2,B3,B4,B5,B6,  *
     517                    ;*                           B7,B8,B9,SP                                      *
     518                    ;*   Local Frame Size  : 0 Args + 4 Auto + 4 Save = 8 byte                    *
     519                    ;******************************************************************************
     520 00000394           _BLDCDrive:
     521                    ;** --------------------------------------------------------------------------*
     522 00000394 00011E28'            MVKL    .S1     _PWMOut,A0        ; |139| 
     523 00000398 00000068'            MVKH    .S1     _PWMOut,A0        ; |139| 
     524 0000039c 00001362             B       .S2X    A0                ; |139| 
     525 000003a0 01BC54F6             STW     .D2T2   B3,*SP--(8)       ; |136| 
     526 000003a4 023C22F4             STW     .D2T1   A4,*+SP(4)        ; |136| 
     527 000003a8 00000000             NOP             1
     528 000003ac 0181DA2A'            MVKL    .S2     RL8,B3            ; |139| 
     529 000003b0 0180006A'            MVKH    .S2     RL8,B3            ; |139| 
     530 000003b4           RL8:       ; CALL OCCURS                     ; |139| 
     531 000003b4 00010428             MVKL    .S1     0x2000208,A0      ; |142| 
     532 000003b8 00010068             MVKH    .S1     0x2000208,A0      ; |142| 
     533 000003bc 00000264             LDW     .D1T1   *A0,A0            ; |142| 
     534 000003c0 02000A2A-            MVKL    .S2     _currHall,B4      ; |142| 
     535 000003c4 0280082A-            MVKL    .S2     _prevHall,B5      ; |145| 
     536 000003c8 03000A2A-            MVKL    .S2     _currHall,B6      ; |145| 
     537 000003cc 0200006A-            MVKH    .S2     _currHall,B4      ; |142| 
     538 000003d0 0000E7A0             AND     .S1     7,A0,A0           ; |142| 
     539                    
     540 000003d4 0280006B-            MVKH    .S2     _prevHall,B5      ; |145| 
     541 000003d8 001002F4  ||         STW     .D2T1   A0,*B4            ; |142| 
     542                    
     543 000003e0 0300006B-            MVKH    .S2     _currHall,B6      ; |145| 
     544 000003e4 039402E6  ||         LDW     .D2T2   *B5,B7            ; |145| 
     545                    
     546 000003e8 021802E6             LDW     .D2T2   *B6,B4            ; |145| 
     547 000003ec 02BC22E6             LDW     .D2T2   *+SP(4),B5        ; |146| 
     548 000003f0 030008C2             ZERO    .D2     B6                ; |146| 
     549 000003f4 00002000             NOP             2
     550 000003f8 009C8A7A             CMPEQ   .L2     B4,B7,B1          ; |145| 
TMS320C6x COFF Assembler         Version 4.10     Wed May 08 17:21:52 2024
Copyright (c) 1996-2001 Texas Instruments Incorporated
temp\main.asm                                                        PAGE   11

     551 000003fc 40002110     [ B1]   B       .S1     L16               ; |145| 
     552 00000400 0018AE62             CMPGTSP .S2     B5,B6,B0          ; |146| 
     553 00000404 00006000             NOP             4
     554                               ; BRANCH OCCURS                   ; |145| 
     555                    ;** --------------------------------------------------------------------------*
     556                    
     557 00000408 0200062B-            MVKL    .S2     _hallCount,B4     ; |146| 
     558 0000040c 00000628- ||         MVKL    .S1     _hallCount,A0     ; |147| 
     559                    
     560 00000410 0200006B-            MVKH    .S2     _hallCount,B4     ; |146| 
     561 00000414 00000068- ||         MVKH    .S1     _hallCount,A0     ; |147| 
     562                    
     563 00000418 229002E7     [ B0]   LDW     .D2T2   *B4,B5            ; |146| 
     564 0000041c 31800264  || [!B0]   LDW     .D1T1   *A0,A3            ; |147| 
     565                    
     566 00000420 00001910             B       .S1     L16               ; |151| 
     567 00000424 00004000             NOP             3
     568                    
     569 00000428 318C29C1     [!B0]   SUB     .D1     A3,1,A3           ; |147| 
     570 0000042c 22942942  || [ B0]   ADD     .D2     1,B5,B5           ; |146| 
     571                    
     572 00000430 31800275     [!B0]   STW     .D1T1   A3,*A0            ; |147| 
     573 00000434 229002F6  || [ B0]   STW     .D2T2   B5,*B4            ; |146| 
     574                    
     575                               ; BRANCH OCCURS                   ; |151| 
     576                    ;** --------------------------------------------------------------------------*
     577 00000438           L9:    
     578 00000438 022002E6             LDW     .D2T2   *B8,B4            ; |154| 
     579 0000043c 00006000             NOP             4
     580 00000440 021C02F6             STW     .D2T2   B4,*B7            ; |154| 
     581 00000444 000C0264             LDW     .D1T1   *A3,A0            ; |155| 
     582                    ;** --------------------------------------------------------------------------*
     583 00000448           L10:    
     584 00000448 00004C90             B       .S1     L20               ; |155| 
     585 0000044c 02000A2A-            MVKL    .S2     _currHall,B4      ; |185| 
     586 00000450 0200006A-            MVKH    .S2     _currHall,B4      ; |185| 
     587 00000454 00002000             NOP             2
     588 00000458 00100274             STW     .D1T1   A0,*A4            ; |155| 
     589                               ; BRANCH OCCURS                   ; |155| 
     590                    ;** --------------------------------------------------------------------------*
     591 0000045c           L11:    
     592 0000045c 029802F6             STW     .D2T2   B5,*B6            ; |158| 
     593 00000460 00000264             LDW     .D1T1   *A0,A0            ; |159| 
     594 00000464 00004790             B       .S1     L18               ; |160| 
     595 00000468 00004000             NOP             3
     596 0000046c 00140274             STW     .D1T1   A0,*A5            ; |159| 
     597 00000470 009002F6             STW     .D2T2   B1,*B4            ; |160| 
     598                               ; BRANCH OCCURS                   ; |160| 
     599                    ;** --------------------------------------------------------------------------*
     600 00000474           L12:    
     601 00000474 00006000             NOP             4
     602 00000478 022402F6             STW     .D2T2   B4,*B9            ; |163| 
     603 0000047c 009802F6             STW     .D2T2   B1,*B6            ; |164| 
     604                    
     605 00000480 00000265             LDW     .D1T1   *A0,A0            ; |165| 
TMS320C6x COFF Assembler         Version 4.10     Wed May 08 17:21:52 2024
Copyright (c) 1996-2001 Texas Instruments Incorporated
temp\main.asm                                                        PAGE   12

     606 00000484 00004410  ||         B       .S1     L19               ; |165| 
     607                    
     608 00000488 02000A2A-            MVKL    .S2     _currHall,B4      ; |185| 
     609 0000048c 00004000             NOP             3
     610 00000490 00140274             STW     .D1T1   A0,*A5            ; |165| 
     611                               ; BRANCH OCCURS                   ; |165| 
     612                    ;** --------------------------------------------------------------------------*
     613 00000494           L13:    
     614 00000494 022402E6             LDW     .D2T2   *B9,B4            ; |169| 
     615 00000498 00006000             NOP             4
     616 0000049c 021802F6             STW     .D2T2   B4,*B6            ; |169| 
     617                    
     618 000004a0 00000265             LDW     .D1T1   *A0,A0            ; |170| 
     619 000004a4 00004010  ||         B       .S1     L19               ; |170| 
     620                    
     621 000004a8 02000A2A-            MVKL    .S2     _currHall,B4      ; |185| 
     622 000004ac 00004000             NOP             3
     623 000004b0 000C0274             STW     .D1T1   A0,*A3            ; |170| 
     624                               ; BRANCH OCCURS                   ; |170| 
     625                    ;** --------------------------------------------------------------------------*
     626 000004b4           L14:    
     627 000004b4 00006000             NOP             4
     628 000004b8 022002F6             STW     .D2T2   B4,*B8            ; |173| 
     629 000004bc 001C0264             LDW     .D1T1   *A7,A0            ; |174| 
     630 000004c0 00003C10             B       .S1     L19               ; |175| 
     631 000004c4 02000A2A-            MVKL    .S2     _currHall,B4      ; |185| 
     632 000004c8 00002000             NOP             2
     633 000004cc 00100274             STW     .D1T1   A0,*A4            ; |174| 
     634 000004d0 011402F6             STW     .D2T2   B2,*B5            ; |175| 
     635                               ; BRANCH OCCURS                   ; |175| 
     636                    ;** --------------------------------------------------------------------------*
     637 000004d4           L15:    
     638 000004d4 0FFFF110             B       .S1     L10               ; |180| 
     639 000004d8 020002F6             STW     .D2T2   B4,*B0            ; |178| 
     640 000004dc 02A002F6             STW     .D2T2   B5,*B8            ; |179| 
     641 000004e0 00140264             LDW     .D1T1   *A5,A0            ; |180| 
     642 000004e4 00002000             NOP             2
     643                               ; BRANCH OCCURS                   ; |180| 
     644                    ;** --------------------------------------------------------------------------*
     645 000004e8           L16:    
     646                    
     647 000004e8 02804C2B             MVKL    .S2     0x2000098,B5      ; |175| 
     648 000004ec 00000A28- ||         MVKL    .S1     _currHall,A0      ; |180| 
     649                    
     650 000004f0 0400502B             MVKL    .S2     0x20000a0,B8      ; |173| 
     651 000004f4 00000068- ||         MVKH    .S1     _currHall,A0      ; |180| 
     652                    
     653 000004f8 03000265             LDW     .D1T1   *A0,A6            ; |180| 
     654 000004fc 0380042A- ||         MVKL    .S2     _PWML,B7          ; |173| 
     655                    
     656 00000500 03004E2A             MVKL    .S2     0x200009c,B6      ; |169| 
     657 00000504 0480022A-            MVKL    .S2     _PWMH,B9          ; |169| 
     658                    
     659 00000508 0200502B             MVKL    .S2     0x20000a0,B4      ; |168| 
     660 0000050c 01804C28  ||         MVKL    .S1     0x2000098,A3      ; |170| 
TMS320C6x COFF Assembler         Version 4.10     Wed May 08 17:21:52 2024
Copyright (c) 1996-2001 Texas Instruments Incorporated
temp\main.asm                                                        PAGE   13

     661                    
     662 00000510 0104002B             MVK     .S2     2048,B2           ; |175| 
     663 00000514 02004E28  ||         MVKL    .S1     0x200009c,A4      ; |174| 
     664                    
     665 00000520 00988AD9             CMPGT   .L1     A6,4,A1           ; |180| 
     666 00000524 0084002B  ||         MVK     .S2     2048,B1           ; |168| 
     667 00000528 03800228- ||         MVKL    .S1     _PWMH,A7          ; |174| 
     668                    
     669 0000052c 80002691     [ A1]   B       .S1     L17               ; |180| 
     670 00000530 0281006A  ||         MVKH    .S2     0x2000098,B5      ; |175| 
     671                    
     672 00000534 0401006B             MVKH    .S2     0x20000a0,B8      ; |173| 
     673 00000538 01810068  ||         MVKH    .S1     0x2000098,A3      ; |170| 
     674                    
     675 00000540 0380006B-            MVKH    .S2     _PWML,B7          ; |173| 
     676 00000544 02010068  ||         MVKH    .S1     0x200009c,A4      ; |174| 
     677                    
     678 00000548 03800069-            MVKH    .S1     _PWMH,A7          ; |174| 
     679 0000054c 0301006A  ||         MVKH    .S2     0x200009c,B6      ; |169| 
     680                    
     681 00000550 00000429-            MVKL    .S1     _PWML,A0          ; |170| 
     682 00000554 0480006A- ||         MVKH    .S2     _PWMH,B9          ; |169| 
     683                    
     684 00000560 00000069-            MVKH    .S1     _PWML,A0          ; |170| 
     685 00000564 0118AA59  ||         CMPEQ   .L1     A6,5,A2           ; |180| 
     686 00000568 00189A5B  ||         CMPEQ   .L2X    A6,4,B0           ; |180| 
     687 0000056c 0201006A  ||         MVKH    .S2     0x20000a0,B4      ; |168| 
     688                    
     689                               ; BRANCH OCCURS                   ; |180| 
     690                    ;** --------------------------------------------------------------------------*
     691                    
     692 00000570 2FFFEA91     [ B0]   B       .S1     L14               ; |180| 
     693 00000574 0480502A  ||         MVKL    .S2     0x20000a0,B9      ; |163| 
     694                    
     695 00000578 03004E2A             MVKL    .S2     0x200009c,B6      ; |164| 
     696                    
     697 00000580 0200022B-            MVKL    .S2     _PWMH,B4          ; |163| 
     698 00000584 02804C28  ||         MVKL    .S1     0x2000098,A5      ; |165| 
     699                    
     700 00000588 0481006B             MVKH    .S2     0x20000a0,B9      ; |163| 
     701 0000058c 00000428- ||         MVKL    .S1     _PWML,A0          ; |165| 
     702                    
     703 00000590 02810069             MVKH    .S1     0x2000098,A5      ; |165| 
     704 00000594 0301006A  ||         MVKH    .S2     0x200009c,B6      ; |164| 
     705                    
     706 000005a0 0200006B-            MVKH    .S2     _PWMH,B4          ; |163| 
     707 000005a4 00000069- ||         MVKH    .S1     _PWML,A0          ; |165| 
     708 000005a8 00982A59  ||         CMPEQ   .L1     A6,1,A1           ; |180| 
     709 000005ac 221C02E6  || [ B0]   LDW     .D2T2   *B7,B4            ; |173| 
     710                    
     711                               ; BRANCH OCCURS                   ; |180| 
     712                    ;** --------------------------------------------------------------------------*
     713 000005b0 0400042A-            MVKL    .S2     _PWML,B8          ; |154| 
     714                    
     715 000005b4 8FFFDA91     [ A1]   B       .S1     L12               ; |180| 
TMS320C6x COFF Assembler         Version 4.10     Wed May 08 17:21:52 2024
Copyright (c) 1996-2001 Texas Instruments Incorporated
temp\main.asm                                                        PAGE   14

     716 000005b8 03804E2A  ||         MVKL    .S2     0x200009c,B7      ; |154| 
     717                    
     718 000005bc 0280502A             MVKL    .S2     0x20000a0,B5      ; |153| 
     719                    
     720 000005c0 0004002B             MVK     .S2     2048,B0           ; |153| 
     721 000005c4 02004C28  ||         MVKL    .S1     0x2000098,A4      ; |155| 
     722                    
     723 000005c8 0400006B-            MVKH    .S2     _PWML,B8          ; |154| 
     724 000005cc 01800228- ||         MVKL    .S1     _PWMH,A3          ; |155| 
     725                    
     726 000005d0 02010069             MVKH    .S1     0x2000098,A4      ; |155| 
     727 000005d4 0381006A  ||         MVKH    .S2     0x200009c,B7      ; |154| 
     728                    
     729 000005e0 0281006B             MVKH    .S2     0x20000a0,B5      ; |153| 
     730 000005e4 01800069- ||         MVKH    .S1     _PWMH,A3          ; |155| 
     731 000005e8 01184A59  ||         CMPEQ   .L1     A6,2,A2           ; |180| 
     732 000005ec 821002E6  || [ A1]   LDW     .D2T2   *B4,B4            ; |163| 
     733                    
     734                               ; BRANCH OCCURS                   ; |180| 
     735                    ;** --------------------------------------------------------------------------*
     736                    
     737 000005f0 AFFFCB11     [ A2]   B       .S1     L9                ; |180| 
     738 000005f4 0480022A- ||         MVKL    .S2     _PWMH,B9          ; |158| 
     739                    
     740 000005f8 02004C2A             MVKL    .S2     0x2000098,B4      ; |160| 
     741                    
     742 00000600 0300502B             MVKL    .S2     0x20000a0,B6      ; |158| 
     743 00000604 02804E28  ||         MVKL    .S1     0x200009c,A5      ; |159| 
     744                    
     745 00000608 0480006B-            MVKH    .S2     _PWMH,B9          ; |158| 
     746 0000060c 00000428- ||         MVKL    .S1     _PWML,A0          ; |159| 
     747                    
     748 00000610 0201006B             MVKH    .S2     0x2000098,B4      ; |160| 
     749 00000614 02810068  ||         MVKH    .S1     0x200009c,A5      ; |159| 
     750                    
     751 00000620 00000069-            MVKH    .S1     _PWML,A0          ; |159| 
     752 00000624 0301006B  ||         MVKH    .S2     0x20000a0,B6      ; |158| 
     753 00000628 00986A59  ||         CMPEQ   .L1     A6,3,A1           ; |180| 
     754 0000062c A01402F6  || [ A2]   STW     .D2T2   B0,*B5            ; |153| 
     755                    
     756                               ; BRANCH OCCURS                   ; |180| 
     757                    ;** --------------------------------------------------------------------------*
     758 00000630 8FFFC790     [ A1]   B       .S1     L11               ; |180| 
     759 00000634 82A402E6     [ A1]   LDW     .D2T2   *B9,B5            ; |158| 
     760 00000638 00006000             NOP             4
     761                               ; BRANCH OCCURS                   ; |180| 
     762                    ;** --------------------------------------------------------------------------*
     763 0000063c 00001210             B       .S1     L21               ; |180| 
     764 00000640 02000A2A-            MVKL    .S2     _currHall,B4      ; |185| 
     765 00000644 0200006A-            MVKH    .S2     _currHall,B4      ; |185| 
     766 00000648 029002E6             LDW     .D2T2   *B4,B5            ; |185| 
     767 0000064c 01800828-            MVKL    .S1     _prevHall,A3      ; |185| 
     768 00000650 00000000             NOP             1
     769                               ; BRANCH OCCURS                   ; |180| 
     770                    ;** --------------------------------------------------------------------------*
TMS320C6x COFF Assembler         Version 4.10     Wed May 08 17:21:52 2024
Copyright (c) 1996-2001 Texas Instruments Incorporated
temp\main.asm                                                        PAGE   15

     771 00000654           L17:    
     772 00000654 0000502A             MVKL    .S2     0x20000a0,B0      ; |178| 
     773                    
     774 00000658 AFFFCA91     [ A2]   B       .S1     L13               ; |180| 
     775 0000065c 04004E2A  ||         MVKL    .S2     0x200009c,B8      ; |179| 
     776                    
     777 00000660 0380042A-            MVKL    .S2     _PWML,B7          ; |178| 
     778                    
     779 00000664 0284002B             MVK     .S2     2048,B5           ; |179| 
     780 00000668 02004C28  ||         MVKL    .S1     0x2000098,A4      ; |180| 
     781                    
     782 0000066c 0001006B             MVKH    .S2     0x20000a0,B0      ; |178| 
     783 00000670 02800228- ||         MVKL    .S1     _PWMH,A5          ; |180| 
     784                    
     785 00000674 02010069             MVKH    .S1     0x2000098,A4      ; |180| 
     786 00000678 0401006A  ||         MVKH    .S2     0x200009c,B8      ; |179| 
     787                    
     788 00000680 0380006B-            MVKH    .S2     _PWML,B7          ; |178| 
     789 00000684 02800069- ||         MVKH    .S1     _PWMH,A5          ; |180| 
     790 00000688 0098CA59  ||         CMPEQ   .L1     A6,6,A1           ; |180| 
     791 0000068c A09002F6  || [ A2]   STW     .D2T2   B1,*B4            ; |168| 
     792                    
     793                               ; BRANCH OCCURS                   ; |180| 
     794                    ;** --------------------------------------------------------------------------*
     795 00000690 8FFFCA90     [ A1]   B       .S1     L15               ; |180| 
     796 00000694 821C02E6     [ A1]   LDW     .D2T2   *B7,B4            ; |178| 
     797 00000698 00006000             NOP             4
     798                               ; BRANCH OCCURS                   ; |180| 
     799                    ;** --------------------------------------------------------------------------*
     800 0000069c           L18:    
     801 0000069c 02000A2A-            MVKL    .S2     _currHall,B4      ; |185| 
     802                    ;** --------------------------------------------------------------------------*
     803 000006a0           L19:    
     804 000006a0 0200006A-            MVKH    .S2     _currHall,B4      ; |185| 
     805                    ;** --------------------------------------------------------------------------*
     806 000006a4           L20:    
     807 000006a4 029002E6             LDW     .D2T2   *B4,B5            ; |185| 
     808 000006a8 01800828-            MVKL    .S1     _prevHall,A3      ; |185| 
     809 000006ac 00000000             NOP             1
     810                    ;** --------------------------------------------------------------------------*
     811 000006b0           L21:    
     812                    
     813 000006b0 0201942B'            MVKL    .S2     _angleFromHallCount,B4 ; |188| 
     814 000006b4 00000628- ||         MVKL    .S1     _hallCount,A0     ; |188| 
     815                    
     816 000006b8 0200006B'            MVKH    .S2     _angleFromHallCount,B4 ; |188| 
     817 000006bc 01800068- ||         MVKH    .S1     _prevHall,A3      ; |185| 
     818                    
     819 000006c0 00100363             B       .S2     B4                ; |188| 
     820 000006c4 028C0277  ||         STW     .D1T2   B5,*A3            ; |185| 
     821 000006c8 00000068- ||         MVKH    .S1     _hallCount,A0     ; |188| 
     822                    
     823 000006cc 02000264             LDW     .D1T1   *A0,A4            ; |188| 
     824 000006d0 01836E2A'            MVKL    .S2     RL10,B3           ; |188| 
     825 000006d4 0180006A'            MVKH    .S2     RL10,B3           ; |188| 
TMS320C6x COFF Assembler         Version 4.10     Wed May 08 17:21:52 2024
Copyright (c) 1996-2001 Texas Instruments Incorporated
temp\main.asm                                                        PAGE   16

     826 000006d8 00002000             NOP             2
     827 000006dc           RL10:      ; CALL OCCURS                     ; |188| 
     828 000006dc 02000C2A-            MVKL    .S2     _currAngle,B4     ; |188| 
     829 000006e0 0200006A-            MVKH    .S2     _currAngle,B4     ; |188| 
     830 000006e4 021002F4             STW     .D2T1   A4,*B4            ; |188| 
     831 000006e8 01BC52E6             LDW     .D2T2   *++SP(8),B3       ; |189| 
     832 000006ec 00006000             NOP             4
     833 000006f0 000C0362             B       .S2     B3                ; |189| 
     834 000006f4 00008000             NOP             5
     835                               ; BRANCH OCCURS                   ; |189| 
     836                    
     837                    
     838 000006f8                   .sect   ".text"
     839                            .global _main
     840                    
     841                    ;******************************************************************************
     842                    ;* FUNCTION NAME: _main                                                       *
     843                    ;*                                                                            *
     844                    ;*   Regs Modified     : A0,A1,A2,A3,A4,A5,A6,A7,A8,A9,B0,B1,B2,B3,B4,B5,B6,  *
     845                    ;*                           B7,B8,B9,SP                                      *
     846                    ;*   Regs Used         : A0,A1,A2,A3,A4,A5,A6,A7,A8,A9,B0,B1,B2,B3,B4,B5,B6,  *
     847                    ;*                           B7,B8,B9,SP                                      *
     848                    ;*   Local Frame Size  : 16 Args + 0 Auto + 4 Save = 20 byte                  *
     849                    ;******************************************************************************
     850 000006f8           _main:
     851                    ;** --------------------------------------------------------------------------*
     852 000006f8 00000028'            MVKL    .S1     _InitEXINTF,A0    ; |194| 
     853 000006fc 00000068'            MVKH    .S1     _InitEXINTF,A0    ; |194| 
     854 00000700 00001362             B       .S2X    A0                ; |194| 
     855 00000704 01BCD4F6             STW     .D2T2   B3,*SP--(24)      ; |193| 
     856 00000708 01838A2A'            MVKL    .S2     RL12,B3           ; |194| 
     857 0000070c 0180006A'            MVKH    .S2     RL12,B3           ; |194| 
     858 00000710 00002000             NOP             2
     859 00000714           RL12:      ; CALL OCCURS                     ; |194| 
     860 00000714 00002028'            MVKL    .S1     _InitTimer,A0     ; |195| 
     861 00000718 00000068'            MVKH    .S1     _InitTimer,A0     ; |195| 
     862 0000071c 00001362             B       .S2X    A0                ; |195| 
     863 00000720 0183962A'            MVKL    .S2     RL14,B3           ; |195| 
     864 00000724 0180006A'            MVKH    .S2     RL14,B3           ; |195| 
     865 00000728 00004000             NOP             3
     866 0000072c           RL14:      ; CALL OCCURS                     ; |195| 
     867 0000072c 0200002A!            MVKL    .S2     _InitUART,B4      ; |196| 
     868 00000730 0200006A!            MVKH    .S2     _InitUART,B4      ; |196| 
     869 00000734 00100362             B       .S2     B4                ; |196| 
     870 00000738 0183A22A'            MVKL    .S2     RL16,B3           ; |196| 
     871 0000073c 0180006A'            MVKH    .S2     RL16,B3           ; |196| 
     872 00000740 00004000             NOP             3
     873 00000744           RL16:      ; CALL OCCURS                     ; |196| 
     874 00000744 00004028'            MVKL    .S1     _InitINT,A0       ; |197| 
     875 00000748 00000068'            MVKH    .S1     _InitINT,A0       ; |197| 
     876 0000074c 00001362             B       .S2X    A0                ; |197| 
     877 00000750 0183AE2A'            MVKL    .S2     RL18,B3           ; |197| 
     878 00000754 0180006A'            MVKH    .S2     RL18,B3           ; |197| 
     879 00000758 00004000             NOP             3
     880 0000075c           RL18:      ; CALL OCCURS                     ; |197| 
TMS320C6x COFF Assembler         Version 4.10     Wed May 08 17:21:52 2024
Copyright (c) 1996-2001 Texas Instruments Incorporated
temp\main.asm                                                        PAGE   17

     881 0000075c 00000028!            MVKL    .S1     _InitUSBMon,A0    ; |198| 
     882 00000760 00000068!            MVKH    .S1     _InitUSBMon,A0    ; |198| 
     883 00000764 00001362             B       .S2X    A0                ; |198| 
     884 00000768 0183BA2A'            MVKL    .S2     RL20,B3           ; |198| 
     885 0000076c 0180006A'            MVKH    .S2     RL20,B3           ; |198| 
     886 00000770 00004000             NOP             3
     887 00000774           RL20:      ; CALL OCCURS                     ; |198| 
     888 00000774 00000028!            MVKL    .S1     _sprintf,A0       ; |200| 
     889                    
     890 00000778 00000069!            MVKH    .S1     _sprintf,A0       ; |200| 
     891 0000077c 0280002A! ||         MVKL    .S2     _tmp_string,B5    ; |200| 
     892                    
     893 00000780 00001362             B       .S2X    A0                ; |200| 
     894 00000784 0183D02A'            MVKL    .S2     RL22,B3           ; |200| 
     895 00000788 0280006A!            MVKH    .S2     _tmp_string,B5    ; |200| 
     896 0000078c 0200002A+            MVKL    .S2     SL1+0,B4          ; |200| 
     897 00000790 0200006A+            MVKH    .S2     SL1+0,B4          ; |200| 
     898                    
     899 00000794 0180006B'            MVKH    .S2     RL22,B3           ; |200| 
     900 00000798 021411A1  ||         MV      .S1X    B5,A4             ; |200| 
     901 0000079c 023C22F6  ||         STW     .D2T2   B4,*+SP(4)        ; |200| 
     902                    
     903 000007a0           RL22:      ; CALL OCCURS                     ; |200| 
     904 000007a0 00000028!            MVKL    .S1     _Report,A0        ; |200| 
     905 000007a4 00000068!            MVKH    .S1     _Report,A0        ; |200| 
     906 000007a8 00001362             B       .S2X    A0                ; |200| 
     907 000007ac 0183DC2A'            MVKL    .S2     RL24,B3           ; |200| 
     908 000007b0 0180006A'            MVKH    .S2     RL24,B3           ; |200| 
     909 000007b4 00004000             NOP             3
     910 000007b8           RL24:      ; CALL OCCURS                     ; |200| 
     911 000007b8 0003F428             MVK     .S1     2024,A0           ; |201| 
     912                    
     913 000007c0 00000029!            MVKL    .S1     _sprintf,A0       ; |201| 
     914 000007c4 003C42F4  ||         STW     .D2T1   A0,*+SP(8)        ; |201| 
     915                    
     916 000007c8 00000069!            MVKH    .S1     _sprintf,A0       ; |201| 
     917 000007cc 020002AA+ ||         MVKL    .S2     SL2+0,B4          ; |201| 
     918                    
     919 000007d0 00001362             B       .S2X    A0                ; |201| 
     920 000007d4 0200006A+            MVKH    .S2     SL2+0,B4          ; |201| 
     921 000007d8 0280002A!            MVKL    .S2     _tmp_string,B5    ; |201| 
     922 000007dc 0280006A!            MVKH    .S2     _tmp_string,B5    ; |201| 
     923 000007e0 0183F82A'            MVKL    .S2     RL26,B3           ; |201| 
     924                    
     925 000007e4 023C22F7             STW     .D2T2   B4,*+SP(4)        ; |201| 
     926 000007e8 0180006B' ||         MVKH    .S2     RL26,B3           ; |201| 
     927 000007ec 021411A0  ||         MV      .S1X    B5,A4             ; |201| 
     928                    
     929 000007f0           RL26:      ; CALL OCCURS                     ; |201| 
     930 000007f0 00000028!            MVKL    .S1     _Report,A0        ; |201| 
     931 000007f4 00000068!            MVKH    .S1     _Report,A0        ; |201| 
     932 000007f8 00001362             B       .S2X    A0                ; |201| 
     933 000007fc 0184042A'            MVKL    .S2     RL28,B3           ; |201| 
     934 00000800 0180006A'            MVKH    .S2     RL28,B3           ; |201| 
     935 00000804 00004000             NOP             3
TMS320C6x COFF Assembler         Version 4.10     Wed May 08 17:21:52 2024
Copyright (c) 1996-2001 Texas Instruments Incorporated
temp\main.asm                                                        PAGE   18

     936 00000808           RL28:      ; CALL OCCURS                     ; |201| 
     937 00000808 02000F2A+            MVKL    .S2     SL3+0,B4          ; |202| 
     938 0000080c 0281FE2A             MVKL    .S2     0x20003fc,B5      ; |202| 
     939 00000810 0200006A+            MVKH    .S2     SL3+0,B4          ; |202| 
     940                    
     941 00000814 0281006B             MVKH    .S2     0x20003fc,B5      ; |202| 
     942 00000818 023C22F6  ||         STW     .D2T2   B4,*+SP(4)        ; |202| 
     943                    
     944 0000081c 021402E6             LDW     .D2T2   *B5,B4            ; |202| 
     945 00000820 0001FE28             MVKL    .S1     0x20003fc,A0      ; |202| 
     946 00000824 00010068             MVKH    .S1     0x20003fc,A0      ; |202| 
     947 00000828 02000028!            MVKL    .S1     _tmp_string,A4    ; |202| 
     948 0000082c 01842E2A'            MVKL    .S2     RL30,B3           ; |202| 
     949 00000830 0212180A             EXTU    .S2     B4,16,24,B4       ; |202| 
     950 00000834 023C42F6             STW     .D2T2   B4,*+SP(8)        ; |202| 
     951                    
     952 00000838 00000029!            MVKL    .S1     _sprintf,A0       ; |202| 
     953 0000083c 01800264  ||         LDW     .D1T1   *A0,A3            ; |202| 
     954                    
     955 00000840 00000068!            MVKH    .S1     _sprintf,A0       ; |202| 
     956 00000844 00001362             B       .S2X    A0                ; |202| 
     957 00000848 0180006A'            MVKH    .S2     RL30,B3           ; |202| 
     958 0000084c 02000068!            MVKH    .S1     _tmp_string,A4    ; |202| 
     959 00000850 00000000             NOP             1
     960 00000854 018F1808             EXTU    .S1     A3,24,24,A3       ; |202| 
     961 00000858 01BC62F4             STW     .D2T1   A3,*+SP(12)       ; |202| 
     962 0000085c           RL30:      ; CALL OCCURS                     ; |202| 
     963 0000085c 00000028!            MVKL    .S1     _Report,A0        ; |202| 
     964 00000860 00000068!            MVKH    .S1     _Report,A0        ; |202| 
     965 00000864 00001362             B       .S2X    A0                ; |202| 
     966 00000868 01843A2A'            MVKL    .S2     RL32,B3           ; |202| 
     967 0000086c 0180006A'            MVKH    .S2     RL32,B3           ; |202| 
     968 00000870 00004000             NOP             3
     969 00000874           RL32:      ; CALL OCCURS                     ; |202| 
     970                    ;** --------------------------------------------------------------------------*
     971 00000874 00004C28'            MVKL    .S1     _GIE,A0           ; |206| 
     972 00000878 00000068'            MVKH    .S1     _GIE,A0           ; |206| 
     973 0000087c 00001362             B       .S2X    A0                ; |206| 
     974 00000880 0200002A!            MVKL    .S2     _TFlag,B4         ; |204| 
     975 00000884 01844C2A'            MVKL    .S2     RL34,B3           ; |206| 
     976 00000888 0200006A!            MVKH    .S2     _TFlag,B4         ; |204| 
     977 0000088c 028008C2             ZERO    .D2     B5                ; |204| 
     978                    
     979 00000890 029002F7             STW     .D2T2   B5,*B4            ; |204| 
     980 00000894 0180006A' ||         MVKH    .S2     RL34,B3           ; |206| 
     981                    
     982 00000898           RL34:      ; CALL OCCURS                     ; |206| 
     983 00000898 0280DC2A'            MVKL    .S2     _WaitTFlagCnt,B5  ; |210| 
     984 0000089c 0280006A'            MVKH    .S2     _WaitTFlagCnt,B5  ; |210| 
     985 000008a0 00140362             B       .S2     B5                ; |210| 
     986 000008a4 02004A2A             MVKL    .S2     0x2000094,B4      ; |208| 
     987 000008a8 0184602A'            MVKL    .S2     RL36,B3           ; |210| 
     988 000008ac 0201006A             MVKH    .S2     0x2000094,B4      ; |208| 
     989 000008b0 000000A8             MVK     .S1     1,A0              ; |208| 
     990                    
TMS320C6x COFF Assembler         Version 4.10     Wed May 08 17:21:52 2024
Copyright (c) 1996-2001 Texas Instruments Incorporated
temp\main.asm                                                        PAGE   19

     991 000008b4 001002F5             STW     .D2T1   A0,*B4            ; |208| 
     992 000008b8 0180006B' ||         MVKH    .S2     RL36,B3           ; |210| 
     993 000008bc 02003228  ||         MVK     .S1     0x64,A4           ; |210| 
     994                    
     995 000008c0           RL36:      ; CALL OCCURS                     ; |210| 
     996                    
     997 000008c0 020428C3             ZERO    .D2     B4                ; |212| 
     998 000008c4 00000E28- ||         MVKL    .S1     _refAngle,A0      ; |212| 
     999                    
    1000 000008c8 0221DA6B             MVKH    .S2     0x43b40000,B4     ; |212| 
    1001 000008cc 00000068- ||         MVKH    .S1     _refAngle,A0      ; |212| 
    1002                    
    1003 000008d0 02000276             STW     .D1T2   B4,*A0            ; |212| 
    1004 000008d4 0201CA2A'            MVKL    .S2     _BLDCDrive,B4     ; |215| 
    1005                    
    1006 000008d8 0200006B'            MVKH    .S2     _BLDCDrive,B4     ; |215| 
    1007 000008dc 00000028! ||         MVKL    .S1     _uControlInput,A0 ; |215| 
    1008                    
    1009                    ;*----------------------------------------------------------------------------*
    1010                    ;*   SOFTWARE PIPELINE INFORMATION
    1011                    ;*      Disqualified loop: software pipelining disabled
    1012                    ;*----------------------------------------------------------------------------*
    1013 000008e0           L22:    
    1014                    
    1015 000008e0 00100363             B       .S2     B4                ; |215| 
    1016 000008e4 00000068! ||         MVKH    .S1     _uControlInput,A0 ; |215| 
    1017                    
    1018 000008e8 02000264             LDW     .D1T1   *A0,A4            ; |215| 
    1019 000008ec 01847C2A'            MVKL    .S2     RL38,B3           ; |215| 
    1020 000008f0 0180006A'            MVKH    .S2     RL38,B3           ; |215| 
    1021 000008f4 00002000             NOP             2
    1022 000008f8           RL38:      ; CALL OCCURS                     ; |215| 
    1023 000008f8 00000010             B       .S1     L22               ; |216| 
    1024 000008fc 0201CA2A'            MVKL    .S2     _BLDCDrive,B4     ; |215| 
    1025 00000900 00000028!            MVKL    .S1     _uControlInput,A0 ; |215| 
    1026 00000904 0200006A'            MVKH    .S2     _BLDCDrive,B4     ; |215| 
    1027 00000908 00002000             NOP             2
    1028                               ; BRANCH OCCURS                   ; |216| 
    1029                    
    1030                    
    1031                    ;******************************************************************************
    1032                    ;* STRINGS                                                                    *
    1033                    ;******************************************************************************
    1034 00000000                   .sect   ".const"
    1035 00000000 0000000D  SL1:    .string 13,10,13,10,0
         00000001 0000000A 
         00000002 0000000D 
         00000003 0000000A 
         00000004 00000000 
    1036 00000005 0000004D  SL2:    .string "Mechatronics Course %d",13,10,0
         00000006 00000065 
         00000007 00000063 
         00000008 00000068 
         00000009 00000061 
         0000000a 00000074 
TMS320C6x COFF Assembler         Version 4.10     Wed May 08 17:21:52 2024
Copyright (c) 1996-2001 Texas Instruments Incorporated
temp\main.asm                                                        PAGE   20

         0000000b 00000072 
         0000000c 0000006F 
         0000000d 0000006E 
         0000000e 00000069 
         0000000f 00000063 
         00000010 00000073 
         00000011 00000020 
         00000012 00000043 
         00000013 0000006F 
         00000014 00000075 
         00000015 00000072 
         00000016 00000073 
         00000017 00000065 
         00000018 00000020 
         00000019 00000025 
         0000001a 00000064 
         0000001b 0000000D 
         0000001c 0000000A 
         0000001d 00000000 
    1037 0000001e 00000046  SL3:    .string "FPGA Ver%2x.%02x",13,10,0
         0000001f 00000050 
         00000020 00000047 
         00000021 00000041 
         00000022 00000020 
         00000023 00000056 
         00000024 00000065 
         00000025 00000072 
         00000026 00000025 
         00000027 00000032 
         00000028 00000078 
         00000029 0000002E 
         0000002a 00000025 
         0000002b 00000030 
         0000002c 00000032 
         0000002d 00000078 
         0000002e 0000000D 
         0000002f 0000000A 
         00000030 00000000 
    1038                    ;******************************************************************************
    1039                    ;* UNDEFINED EXTERNAL REFERENCES                                              *
    1040                    ;******************************************************************************
    1041                            .global _sprintf
    1042                            .global _InitUART
    1043                            .global _Report
    1044                            .global _InitUSBMon
    1045                            .global _tmp_string
    1046                            .global _TFlag
    1047                            .global _uControlInput
    1048                            .global __divd

No Assembly Errors, No Assembly Warnings
